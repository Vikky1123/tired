# URL Conversion for Bitrader Website

This document explains the process of converting absolute URLs to relative paths in the Bitrader website project.

## Purpose

Absolute URLs (starting with `https://bitrader.thetork.com/`) throughout the project were converted to relative paths for several reasons:

1. **Portability**: The website can be moved to different domains without URL issues
2. **Local Development**: Makes local development and testing easier
3. **Staging Environments**: Simplifies deployment to staging environments
4. **SEO**: Avoids duplicate content issues with multiple domains

## Conversion Process

A PowerShell script (`convert_urls.ps1`) was created to automatically convert absolute URLs to relative paths. The script:

1. Creates a backup of all modified files in the `url_conversion_backup` folder
2. Logs all changes in the `url_conversion_log.txt` file
3. Processes HTML, CSS, JS, XML, and JSON files
4. Handles various URL patterns including:
   - `href="https://bitrader.thetork.com/..."` → `href="/..."`
   - `src="https://bitrader.thetork.com/..."` → `src="/..."`
   - `<link rel="canonical" href="https://bitrader.thetork.com/..."`
   - `<meta property="og:url" content="https://bitrader.thetork.com/..."`
   - Feed files with `<link>` and `<atom:link>` tags

## Files Modified

The script successfully modified 15 files, primarily:
- RSS/Atom feed files in various category directories
- Some template files with absolute canonical URLs
- Background image references

## Running the Script

If you need to run the script again or modify its behavior:

1. Open PowerShell in the root directory of the project
2. Run: `powershell -ExecutionPolicy Bypass -File .\convert_urls.ps1`

### Script Options

You can modify these options at the top of the script:

- `$wpJsonOnly = $true` - Set to true to only process wp-json files, false to process all files
- `$excludePatterns` - List of URL patterns to exclude from conversion (e.g., external domain references)
- `$domain = "bitrader.thetork.com"` - The domain to convert from

## Manual Verification

After running the script, you should manually verify key pages to ensure:

1. All links work correctly
2. Images display properly
3. Form submissions point to the correct endpoints
4. API calls function as expected

## Limitations

The script cannot handle:
- Dynamic URLs generated by JavaScript at runtime
- URLs embedded in minified/obfuscated JavaScript
- URLs in binary files or encoded formats

These cases may require manual editing. 